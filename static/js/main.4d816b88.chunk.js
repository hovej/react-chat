(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports={Box:"Input_Box__yz4VE",Input:"Input_Input__3r5Ke",invalid:"Input_invalid__1XscM",Label:"Input_Label__1qyHr",Tooltip:"Input_Tooltip__vgXL0"}},,function(e,t,a){e.exports={ChatSend:"ChatSend_ChatSend__XMufG",Input:"ChatSend_Input__2CYJT",Button:"ChatSend_Button__1vPq5"}},function(e,t,a){e.exports={Input:"Feedback_Input__3fqyB",Form:"Feedback_Form__aPM1Q",Button:"Feedback_Button__2vAps"}},,,,function(e,t,a){e.exports={Page:"CreateAccount_Page__2J3Q7",Create:"CreateAccount_Create__HjCEJ"}},function(e,t,a){e.exports={CreateSuccess:"CreateSuccess_CreateSuccess__PQjLb",Link:"CreateSuccess_Link__sIM1c"}},function(e,t,a){e.exports={Page:"Login_Page__1vbLJ",Container:"Login_Container__3K-Mm"}},,,,,,,,,,,,function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1tTPb"}},function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__FKtYE"}},,,function(e,t,a){e.exports={Chat:"Chat_Chat__3NjUX"}},function(e,t,a){e.exports={History:"ChatHistory_History__3CgV8"}},function(e,t,a){e.exports={Message:"Message_Message__L9LXR"}},function(e,t,a){e.exports={Members:"Members_Members__1Tn2e"}},function(e,t,a){e.exports={Server:"ChatServer_Server__2djAa"}},function(e,t,a){e.exports={Button:"Button_Button__3gFiX"}},function(e,t,a){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,a){e.exports={Content:"NewsItem_Content__2Z7K6"}},function(e,t,a){e.exports=a(76)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a.n(o),c=(a(53),a(2)),l=a(3),i=a(5),u=a(4),m=a(1),p=a(10),h=a(35),d=a.n(h),g=a(36),v=a.n(g),f=function(e){return r.a.createElement("li",{className:v.a.NavigationItem},r.a.createElement(p.b,{to:e.location},e.children))},b=function(e){return r.a.createElement("ul",{className:d.a.Navigation},r.a.createElement(f,{location:"/login"},"Logout"),r.a.createElement(f,{location:"/settings"},"Settings"),r.a.createElement(f,{location:"/news"},"News"),r.a.createElement(f,{location:"/home"},"Chat"))},y=function(e){return r.a.createElement("div",null,r.a.createElement(b,null),e.children)},E=a(38),_=a.n(E).a.create({baseURL:"https://react-chat-7c5b7.firebaseio.com"}),j=a(39),C=a.n(j),N=a(40),O=a.n(N),x=a(41),S=a.n(x),k=function(e){return r.a.createElement("div",{className:S.a.Message},r.a.createElement("h4",{style:{margin:"2px"}},e.user),r.a.createElement("p",{style:{margin:"2px"}},e.text))},w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){console.log("updating..."),e.props.update()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=[],t=Object.keys(this.props.messages);if(t.length>=20)for(var a=t.length-1;a>=t.length-50;a--)e.push(this.props.messages[t[a]]);else for(var n=t.length-1;n>=0;n--)e.push(this.props.messages[t[n]]);var o=e.map((function(e,t){return r.a.createElement(k,{key:t,user:e.user,text:e.text})}));return console.log("[ChatHistory] rendering..."),r.a.createElement("div",{className:O.a.History},o)}}]),a}(n.PureComponent),T=a(16),A=a.n(T),F=function(e){return r.a.createElement("form",{onSubmit:e.send,className:A.a.ChatSend},r.a.createElement("input",{className:A.a.Input,onChange:e.changed,value:e.value,placeholder:"Enter your message here"}),r.a.createElement("button",{className:A.a.Button},"SEND"))},M=function(e){return r.a.createElement("div",{className:C.a.Chat},r.a.createElement(w,{update:e.update,messages:e.messages}),r.a.createElement(F,{send:e.send,changed:e.changed,value:e.value}))},I=a(42),L=a.n(I),P=function(e){return console.log("[Member] rendering..."),r.a.createElement("div",null,r.a.createElement("h4",{style:{marginBottom:"0"}},e.name),r.a.createElement("p",{style:{marginTop:"0"}},e.user))},H=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={members:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];_.request("/accounts.json").then((function(a){for(var n in a.data)t.push({name:a.data[n].displayName,username:a.data[n].username});e.setState({members:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=[];return this.state.members.length>0&&(e=this.state.members.map((function(e){return r.a.createElement(P,{key:e.username,name:e.name,user:e.username})}))),r.a.createElement("div",{className:L.a.Members},r.a.createElement("h3",null,"MEMBERS"),e)}}]),a}(r.a.PureComponent),B=a(17),D=a.n(B),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.onChangeHandler=function(t){e.setState({text:t.target.value}),t.preventDefault()},e.onSubmitHandler=function(t){var a={text:e.state.text};_.post("/feedback.json",a).then((function(t){console.log(t),e.setState({text:""})})).catch((function(e){console.log(e)})),t.preventDefault()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:D.a.Form,onSubmit:this.onSubmitHandler},r.a.createElement("textarea",{className:D.a.Input,onChange:this.onChangeHandler,placeholder:"Please enter your feedback here!",value:this.state.text}),r.a.createElement("button",{className:D.a.Button},"Submit"))}}]),a}(r.a.PureComponent),R=a(43),V=a.n(R),U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={messages:[],user:"Anonymous",messageText:""},e.updateMessageHistory=function(){_.get("/messages.json").then((function(t){console.log(t.data),e.setState({messages:t.data})})).catch((function(e){console.log(e)}))},e.messageChangeHandler=function(t){e.setState({messageText:t.target.value}),t.preventDefault()},e.sendMessageHandler=function(t){var a={text:e.state.messageText,user:e.state.user};e.state.messages.hasOwnProperty("initial")&&_.delete("/messages/initial.json").then((function(e){console.log(e)})).catch((function(e){console.log(e)})),_.post("/messages.json",a).then((function(t){console.log(t),e.setState({messageText:""}),e.updateMessageHistory()})).catch((function(e){console.log(e)})),t.preventDefault()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.get("/messages.json").then((function(t){console.log(t.data),e.setState({messages:t.data,user:e.props.user})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){console.log("[ChatServer] rendering...");var e=r.a.createElement(M,{messages:this.state.messages,send:this.sendMessageHandler,changed:this.messageChangeHandler,update:this.updateMessageHistory,value:this.state.messageText});return this.state.messages||(e=null),r.a.createElement("div",{className:V.a.Server},r.a.createElement(q,null),e,r.a.createElement(H,null))}}]),a}(r.a.Component),J=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error 404: Page not found"),r.a.createElement("p",null,"Plese return back to the ",r.a.createElement(p.b,{to:"/home"},"home")," screen."))},W=a(12),X=a(21),K=a.n(X),G=a(14),Q=a.n(G),Y=function(e){var t=null,a=[Q.a.Input],n=null;switch(!e.isValid&&e.touched&&(a.push(Q.a.invalid),n=r.a.createElement("p",{className:Q.a.Tooltip},e.tooltip)),e.elementType){case"input":t=r.a.createElement("input",{className:a.join(" "),type:e.inputType,value:e.value,onChange:e.changed})}return console.log("input rendering"),r.a.createElement("div",{className:Q.a.Box},r.a.createElement("label",{className:Q.a.Label},e.name),t,n)},z=a(44),Z=a.n(z),$=function(e){return r.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,className:Z.a.Button},e.children)},ee=a(45),te=a.n(ee),ae=a(46),ne=a.n(ae),re=function(e){return r.a.createElement("div",{className:ne.a.Backdrop},e.children)},oe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement("div",{className:te.a.Modal},this.props.children))}}]),a}(r.a.Component),se=a(22),ce=a.n(se),le=function(e){return r.a.createElement("div",{className:ce.a.CreateSuccess},r.a.createElement("h3",null,"Congrats!"),r.a.createElement("p",null,"Your account has been successfully created."),r.a.createElement("p",null,"Please continue to the login page."),r.a.createElement(p.b,{className:ce.a.Link,to:"/login"},"CONTINUE"))},ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createAccountForm:{username:{name:"Username",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:5,maxLength:15},valid:!1,touched:!1,value:"",tooltip:"A unique username between 5-15 characters"},displayName:{name:"Display Name",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:1,maxLength:20},valid:!1,touched:!1,value:"",tooltip:"This is the name other people will see you as"},password:{name:"Password",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:6,maxLength:20},valid:!1,touched:!1,value:"",tooltip:"Password must be between 6-20 characters"}},validInfo:!1,usernames:[],submitted:!1},e.onChangeHandler=function(t,a){var n=Object(W.a)({},e.state.createAccountForm),r=Object(W.a)({},e.state.createAccountForm[a]);r.value=t.target.value,r.valid=e.checkValidation(r.value,r.validation),r.touched=!0,n[a]=r;var o=e.isAccountValid(n);e.setState({createAccountForm:n,validInfo:o}),t.preventDefault()},e.checkValidation=function(e,t){var a=!0;return t.isRequired&&(a=e.length>0&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),a},e.isAccountValid=function(e){var t=!0;for(var a in e)t=e[a].valid&&t;return t},e.createNewAccount=function(t){console.log("1"),t.preventDefault();for(var a={username:e.state.createAccountForm.username.value,displayName:e.state.createAccountForm.displayName.value,password:e.state.createAccountForm.password.value},n=!0,r=0;r<e.state.usernames.length;r++)if(a.username===e.state.usernames[r]){n=!1;var o=Object(W.a)({},e.state.createAccountForm),s=Object(W.a)({},o.username);s.value="This username is taken.",s.valid=!1,o.username=s,e.setState({createAccountForm:o})}console.log(n),n&&_.post("/accounts.json",a).then((function(t){console.log(t),e.setState({submitted:!0})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=[],a=[];_.request("/accounts.json").then((function(n){for(var r in console.log(n),n.data)a.push(n.data[r].username);console.log(a),e.setState({keys:t,usernames:a,submitted:!1})}))}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.createAccountForm)t.push({name:a,config:this.state.createAccountForm[a]});var n=t.map((function(t){return r.a.createElement(Y,{key:t.name,elementType:t.config.elementType,inputType:t.config.inputType,value:t.config.value,name:t.config.name,changed:function(a){return e.onChangeHandler(a,t.name)},isValid:t.config.valid,touched:t.config.touched,tooltip:t.config.tooltip})})),o=null;return this.state.submitted&&(o=r.a.createElement(oe,this.props,r.a.createElement(le,null))),r.a.createElement("div",{className:K.a.Page},o,r.a.createElement("h1",null,"Welcome to React Chat!"),r.a.createElement("p",null,"Create an Account"),r.a.createElement("form",{onSubmit:this.createNewAccount,className:K.a.Create},n,r.a.createElement($,{disabled:!this.state.validInfo},"CREATE")),r.a.createElement("p",null,"Already have an account? Sign in ",r.a.createElement(p.b,{to:"/login"},"here"),"."))}}]),a}(r.a.Component),ue=a(23),me=a.n(ue),pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loginForm:{username:{name:"Username",elementType:"input",inputType:"text",value:""},password:{name:"Password",elementType:"input",inputType:"password",value:""}},validForm:!0},e.onChangeHandler=function(t,a){var n=Object(W.a)({},e.state.loginForm),r=Object(W.a)({},n[a]);r.value=t.target.value,n[a]=r,e.setState({loginForm:n}),t.preventDefault()},e.onSubmitHandler=function(t){t.preventDefault();var a=[],n=!1;_.request("/accounts.json").then((function(t){for(var r in t.data)a.push({name:r,username:t.data[r].username,password:t.data[r].password,displayName:t.data[r].displayName});for(var o=0;o<a.length;o++)a[o].username===e.state.loginForm.username.value&&a[o].password===e.state.loginForm.password.value&&(n=!0,e.props.updateName(a[o].displayName,a[o].username),e.props.history.push("/home"));n||e.setState({validForm:!1})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this,t=null;this.state.validForm||(t=r.a.createElement("p",{style:{color:"red"}},"The username or password you entered is incorrect."));var a=[];for(var n in this.state.loginForm)a.push({name:n,config:this.state.loginForm[n]});var o=a.map((function(t){return r.a.createElement(Y,{key:t.name,name:t.config.name,elementType:t.config.elementType,inputType:t.config.inputType,value:t.config.value,changed:function(a){return e.onChangeHandler(a,t.name)}})}));return r.a.createElement("div",{className:me.a.Page},r.a.createElement("h1",null,"Welcome to React Chat!"),r.a.createElement("p",null,"Please login below."),r.a.createElement("form",{onSubmit:this.onSubmitHandler,className:me.a.Container},t,o,r.a.createElement($,null,"LOGIN")),r.a.createElement("p",null,"Don't have an account yet? Sign up ",r.a.createElement(p.b,{to:"/create"},"here"),"."))}}]),a}(r.a.Component),he=Object(m.g)(pe),de=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Settings Page"))}}]),a}(r.a.Component),ge=a(47),ve=a.n(ge),fe=function(e){return r.a.createElement("div",null,r.a.createElement("li",{className:ve.a.Content},e.content))},be=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={items:[{date:"7/26",updates:["Password while logging in is now hidden.","A key is no longer required to create an account.","Usernames are now shown under display names in the member list.","Some styling changes made to the chat screen."]}]},e}return Object(l.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<this.state.items.length;t++){e.push(r.a.createElement("h3",{key:this.state.items[t].date},this.state.items[t].date," Update"));for(var a=0;a<this.state.items[t].updates.length;a++)e.push(r.a.createElement(fe,{key:a,content:this.state.items[t].updates[a]}))}return r.a.createElement("div",{style:{margin:"auto",width:"400px"}},r.a.createElement("h1",{style:{textAlign:"center"}},"NEWS PAGE"),e)}}]),a}(r.a.Component),ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:!1,displayName:""},e.updateDisplayName=function(t){e.state.authenticated?e.setState({authenticated:!1,displayName:""}):e.setState({displayName:t,authenticated:!0})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement(m.a,{from:"/",to:"/login"});return this.state.authenticated&&(t=null),r.a.createElement(p.a,null,r.a.createElement(y,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/login",render:function(){return r.a.createElement(he,Object.assign({updateName:e.updateDisplayName},e.props))}}),r.a.createElement(m.b,{path:"/create",component:ie}),t,r.a.createElement(m.b,{path:"/home",render:function(){return r.a.createElement(U,{user:e.state.displayName})}}),r.a.createElement(m.b,{path:"/settings",component:de}),r.a.createElement(m.b,{path:"/news",component:be}),r.a.createElement(m.a,{from:"/",exact:!0,to:"/login"}),r.a.createElement(m.b,{path:"/",component:J}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[48,1,2]]]);
//# sourceMappingURL=main.4d816b88.chunk.js.map