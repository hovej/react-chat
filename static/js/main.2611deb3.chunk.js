(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports={Box:"Input_Box__yz4VE",Input:"Input_Input__3r5Ke",invalid:"Input_invalid__1XscM",Label:"Input_Label__1qyHr",Tooltip:"Input_Tooltip__vgXL0"}},,function(e,t,a){e.exports={ChatSend:"ChatSend_ChatSend__XMufG",Input:"ChatSend_Input__2CYJT",Button:"ChatSend_Button__1vPq5"}},function(e,t,a){e.exports={Input:"Feedback_Input__3fqyB",Form:"Feedback_Form__aPM1Q",Button:"Feedback_Button__2vAps"}},,function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1tTPb",Title:"Navigation_Title__vdZ1x"}},,,function(e,t,a){e.exports={Page:"CreateAccount_Page__2J3Q7",Create:"CreateAccount_Create__HjCEJ"}},function(e,t,a){e.exports={Button:"Button_Button__3gFiX",Setting:"Button_Setting__2GLAJ"}},function(e,t,a){e.exports={CreateSuccess:"CreateSuccess_CreateSuccess__PQjLb",Link:"CreateSuccess_Link__sIM1c"}},function(e,t,a){e.exports={Page:"Login_Page__1vbLJ",Container:"Login_Container__3K-Mm"}},function(e,t,a){e.exports={Setting:"Setting_Setting__3vAzd",Title:"Setting_Title__3PPha"}},,,,,,,,,,,,function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__FKtYE"}},,,function(e,t,a){e.exports={Chat:"Chat_Chat__3NjUX"}},function(e,t,a){e.exports={History:"ChatHistory_History__3CgV8"}},function(e,t,a){e.exports=a.p+"static/media/bear.133150d4.png"},function(e,t,a){e.exports={Picture:"ProfilePicture_Picture__2NVj0"}},function(e,t,a){e.exports={Message:"Message_Message__L9LXR"}},function(e,t,a){e.exports={Members:"Members_Members__1Tn2e"}},function(e,t,a){e.exports={Server:"ChatServer_Server__2djAa"}},function(e,t,a){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,a){e.exports={Section:"SettingSection_Section__2VrfG"}},function(e,t,a){e.exports={Content:"NewsItem_Content__2Z7K6"}},function(e,t,a){e.exports=a(80)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(37),c=a.n(r),s=(a(57),a(2)),i=a(3),l=a(5),u=a(4),m=a(1),p=a(10),h=a(19),d=a.n(h),g=a(38),v=a.n(g),f=function(e){return o.a.createElement("li",{className:v.a.NavigationItem},o.a.createElement(p.b,{to:e.location},e.children))},b=function(e){return o.a.createElement("ul",{className:d.a.Navigation},o.a.createElement(f,{location:"/login"},"Logout"),o.a.createElement(f,{location:"/settings"},"Settings"),o.a.createElement(f,{location:"/news"},"News"),o.a.createElement(f,{location:"/home"},"Chat"),o.a.createElement("h3",{className:d.a.Title},"REACT CHAT"))},y=function(e){return o.a.createElement("div",null,o.a.createElement(b,null),e.children)},E=a(12),_=a(40),j=a.n(_).a.create({baseURL:"https://react-chat-7c5b7.firebaseio.com"}),C=a(41),x=a.n(C),N=a(42),k=a.n(N),S=a(43),w=a.n(S),O=a(44),T=a.n(O),A=function(e){return o.a.createElement("img",{src:w.a,alt:"bear",className:T.a.Picture,style:{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")}})},P=a(45),F=a.n(P),I=function(e){return o.a.createElement("div",{className:F.a.Message},o.a.createElement(A,{size:25}),o.a.createElement("div",null,o.a.createElement("h4",{style:{margin:"2px"}},e.user),o.a.createElement("p",{style:{margin:"2px"}},e.text)))},M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){console.log("updating..."),e.props.update()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=[],t=Object.keys(this.props.messages);if(t.length>=20)for(var a=t.length-1;a>=t.length-50;a--)e.push(this.props.messages[t[a]]);else for(var n=t.length-1;n>=0;n--)e.push(this.props.messages[t[n]]);var r=e.map((function(e,t){return o.a.createElement(I,{key:t,user:e.user,text:e.text})}));return console.log("[ChatHistory] rendering..."),o.a.createElement("div",{className:k.a.History},r)}}]),a}(n.PureComponent),H=a(16),L=a.n(H),B=function(e){return o.a.createElement("form",{onSubmit:e.send,className:L.a.ChatSend},o.a.createElement("input",{className:L.a.Input,onChange:e.changed,value:e.value,placeholder:"Enter your message here"}),o.a.createElement("button",{className:L.a.Button},"SEND"))},D=function(e){return o.a.createElement("div",{className:x.a.Chat},o.a.createElement(M,{update:e.update,messages:e.messages}),o.a.createElement(B,{send:e.send,changed:e.changed,value:e.value}))},V=a(46),q=a.n(V),R=function(e){return console.log("[Member] rendering..."),o.a.createElement("div",{style:{display:"flex",padding:"5px"}},o.a.createElement(A,{size:30}),o.a.createElement("h4",{style:{margin:"10px"}},e.name))},U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={members:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];j.request("/accounts.json").then((function(a){for(var n in a.data)t.push({name:a.data[n].displayName,username:a.data[n].username});e.setState({members:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=[];return this.state.members.length>0&&(e=this.state.members.map((function(e){return o.a.createElement(R,{key:e.username,name:e.name,user:e.username})}))),o.a.createElement("div",{className:q.a.Members},o.a.createElement("h3",null,"MEMBERS"),e)}}]),a}(o.a.PureComponent),J=a(17),W=a.n(J),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={text:""},e.onChangeHandler=function(t){e.setState({text:t.target.value}),t.preventDefault()},e.onSubmitHandler=function(t){var a={text:e.state.text};j.post("/feedback.json",a).then((function(t){console.log(t),e.setState({text:""})})).catch((function(e){console.log(e)})),t.preventDefault()},e}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{className:W.a.Form,onSubmit:this.onSubmitHandler},o.a.createElement("textarea",{className:W.a.Input,onChange:this.onChangeHandler,placeholder:"Please enter your feedback here!",value:this.state.text}),o.a.createElement("button",{className:W.a.Button},"Submit"))}}]),a}(o.a.PureComponent),X=a(47),K=a.n(X),G=a(48),Q=a.n(G),Y=a(49),Z=a.n(Y),$=function(e){return o.a.createElement("div",{onClick:e.click,className:Z.a.Backdrop},e.children)},ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=null;switch(this.props.type){case"version":e="There has been a recent update! Please be sure to take a look at the 'News' page to see what's changed!";break;case"create account":e=this.props.children}return o.a.createElement(o.a.Fragment,null,o.a.createElement($,{click:this.props.click}),o.a.createElement("div",{className:Q.a.Modal},e))}}]),a}(o.a.Component),te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={messages:[],user:"anon123",name:"Anonymous",messageText:"",currentVersion:"8162020",newVersion:!1},e.updateMessageHistory=function(){j.get("/messages.json").then((function(t){console.log(t.data),e.setState({messages:t.data})})).catch((function(e){console.log(e)}))},e.messageChangeHandler=function(t){e.setState({messageText:t.target.value}),t.preventDefault()},e.sendMessageHandler=function(t){var a={text:e.state.messageText,user:e.state.name};a.text.trim().length>0&&(e.state.messages.hasOwnProperty("initial")&&j.delete("/messages/initial.json").then((function(e){console.log(e)})).catch((function(e){console.log(e)})),j.post("/messages.json",a).then((function(t){console.log(t),e.setState({messageText:""}),e.updateMessageHistory()})).catch((function(e){console.log(e)}))),t.preventDefault()},e.backdropClickHandler=function(t){e.setState({newVersion:!1}),t.preventDefault()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.get("/messages.json").then((function(t){console.log(t.data),e.setState({messages:t.data,user:e.props.account.username,name:e.props.account.displayName}),j.get("/accounts.json").then((function(t){for(var a in t.data)console.log("check 0"),t.data[a].username===e.state.user&&(console.log("check 1"),t.data[a].version!==e.state.currentVersion&&function(){console.log("check 2"),console.log(t.data[a]),e.setState({newVersion:!0});var n=Object(E.a)({},t.data[a]);n.version=e.state.currentVersion,j.delete("/accounts/".concat(a,".json")).then((function(e){j.post("/accounts.json",n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),console.log(e)})).catch((function(e){console.log(e)}))}())})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){console.log("[ChatServer] rendering...");var e=o.a.createElement(D,{messages:this.state.messages,send:this.sendMessageHandler,changed:this.messageChangeHandler,update:this.updateMessageHistory,value:this.state.messageText});this.state.messages||(e=null);var t=this.state.newVersion?o.a.createElement(ee,{click:this.backdropClickHandler,type:"version"}):null;return o.a.createElement("div",{className:K.a.Server},t,o.a.createElement(z,null),e,o.a.createElement(U,null))}}]),a}(o.a.Component),ae=function(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"Error 404: Page not found"),o.a.createElement("p",null,"Plese return back to the ",o.a.createElement(p.b,{to:"/home"},"home")," screen."))},ne=a(22),oe=a.n(ne),re=a(14),ce=a.n(re),se=function(e){var t=null,a=[ce.a.Input],n=null;switch(!e.isValid&&e.touched&&(a.push(ce.a.invalid),n=o.a.createElement("p",{className:ce.a.Tooltip},e.tooltip)),e.elementType){case"input":t=o.a.createElement("input",{className:a.join(" "),type:e.inputType,value:e.value,onChange:e.changed})}return console.log("input rendering"),o.a.createElement("div",{className:ce.a.Box},o.a.createElement("label",{className:ce.a.Label},e.name),t,n)},ie=a(23),le=a.n(ie),ue=function(e){var t="";switch(e.type){case"setting":t=le.a.Setting;break;default:t=le.a.Button}return o.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,className:t},e.children)},me=a(24),pe=a.n(me),he=function(e){return o.a.createElement("div",{className:pe.a.CreateSuccess},o.a.createElement("h3",null,"Congrats!"),o.a.createElement("p",null,"Your account has been successfully created."),o.a.createElement("p",null,"Please continue to the login page."),o.a.createElement(p.b,{className:pe.a.Link,to:"/login"},"CONTINUE"))},de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={createAccountForm:{username:{name:"Username",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:5,maxLength:15},valid:!1,touched:!1,value:"",tooltip:"A unique username between 5-15 characters"},displayName:{name:"Display Name",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:1,maxLength:20},valid:!1,touched:!1,value:"",tooltip:"This is the name other people will see you as"},password:{name:"Password",elementType:"input",inputType:"text",validation:{isRequired:!0,minLength:6,maxLength:20},valid:!1,touched:!1,value:"",tooltip:"Password must be between 6-20 characters"}},validInfo:!1,usernames:[],submitted:!1},e.onChangeHandler=function(t,a){var n=Object(E.a)({},e.state.createAccountForm),o=Object(E.a)({},e.state.createAccountForm[a]);o.value=t.target.value,o.valid=e.checkValidation(o.value,o.validation),o.touched=!0,n[a]=o;var r=e.isAccountValid(n);e.setState({createAccountForm:n,validInfo:r}),t.preventDefault()},e.checkValidation=function(e,t){var a=!0;return t.isRequired&&(a=e.length>0&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),a},e.isAccountValid=function(e){var t=!0;for(var a in e)t=e[a].valid&&t;return t},e.createNewAccount=function(t){console.log("1"),t.preventDefault();for(var a={username:e.state.createAccountForm.username.value,displayName:e.state.createAccountForm.displayName.value,password:e.state.createAccountForm.password.value},n=!0,o=0;o<e.state.usernames.length;o++)if(a.username===e.state.usernames[o]){n=!1;var r=Object(E.a)({},e.state.createAccountForm),c=Object(E.a)({},r.username);c.value="This username is taken.",c.valid=!1,r.username=c,e.setState({createAccountForm:r})}console.log(n),n&&j.post("/accounts.json",a).then((function(t){console.log(t),e.setState({submitted:!0})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=[],a=[];j.request("/accounts.json").then((function(n){for(var o in console.log(n),n.data)a.push(n.data[o].username);console.log(a),e.setState({keys:t,usernames:a,submitted:!1})}))}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.createAccountForm)t.push({name:a,config:this.state.createAccountForm[a]});var n=t.map((function(t){return o.a.createElement(se,{key:t.name,elementType:t.config.elementType,inputType:t.config.inputType,value:t.config.value,name:t.config.name,changed:function(a){return e.onChangeHandler(a,t.name)},isValid:t.config.valid,touched:t.config.touched,tooltip:t.config.tooltip})})),r=null;return this.state.submitted&&(r=o.a.createElement(ee,Object.assign({type:"create account"},this.props),o.a.createElement(he,null))),o.a.createElement("div",{className:oe.a.Page},r,o.a.createElement("h1",null,"Welcome to React Chat!"),o.a.createElement("p",null,"Create an Account"),o.a.createElement("form",{onSubmit:this.createNewAccount,className:oe.a.Create},n,o.a.createElement(ue,{disabled:!this.state.validInfo},"CREATE")),o.a.createElement("p",null,"Already have an account? Sign in ",o.a.createElement(p.b,{to:"/login"},"here"),"."))}}]),a}(o.a.Component),ge=a(25),ve=a.n(ge),fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loginForm:{username:{name:"Username",elementType:"input",inputType:"text",value:""},password:{name:"Password",elementType:"input",inputType:"password",value:""}},validForm:!0},e.onChangeHandler=function(t,a){var n=Object(E.a)({},e.state.loginForm),o=Object(E.a)({},n[a]);o.value=t.target.value,n[a]=o,e.setState({loginForm:n}),t.preventDefault()},e.onSubmitHandler=function(t){t.preventDefault();var a=[],n=!1;j.request("/accounts.json").then((function(t){for(var o in t.data)a.push({name:o,username:t.data[o].username,password:t.data[o].password,displayName:t.data[o].displayName});for(var r=0;r<a.length;r++)a[r].username===e.state.loginForm.username.value&&a[r].password===e.state.loginForm.password.value&&(n=!0,e.props.updateName(Object(E.a)({},a[r])),e.props.history.push("/home"));n||e.setState({validForm:!1})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this,t=null;this.state.validForm||(t=o.a.createElement("p",{style:{color:"red"}},"The username or password you entered is incorrect."));var a=[];for(var n in this.state.loginForm)a.push({name:n,config:this.state.loginForm[n]});var r=a.map((function(t){return o.a.createElement(se,{key:t.name,name:t.config.name,elementType:t.config.elementType,inputType:t.config.inputType,value:t.config.value,changed:function(a){return e.onChangeHandler(a,t.name)}})}));return o.a.createElement("div",{className:ve.a.Page},o.a.createElement("h1",null,"Welcome to React Chat!"),o.a.createElement("p",null,"Please login below."),o.a.createElement("form",{onSubmit:this.onSubmitHandler,className:ve.a.Container},t,r,o.a.createElement(ue,null,"LOGIN")),o.a.createElement("p",null,"Don't have an account yet? Sign up ",o.a.createElement(p.b,{to:"/create"},"here"),"."))}}]),a}(o.a.Component),be=Object(m.g)(fe),ye=(a(26),a(50),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={sections:[{name:"Profile",settings:[{name:"Profile Picture",description:"Change your profile picture here."}]}]},e}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h1",null,"Settings Page"),o.a.createElement("p",null,"Settings content coming soon!"))}}]),a}(o.a.Component)),Ee=a(51),_e=a.n(Ee),je=function(e){return o.a.createElement("div",null,o.a.createElement("li",{className:_e.a.Content},e.content))},Ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={items:[{date:"8/16",updates:["Profile pictures are in the process of being implemented. Currently, everyone has been given the default picture and the ability to change it is not yet available.","Usernames are no longer shown on the member list. With pictures being added, it added unnecessarily clutter the UI.","Several small UI improvements.","Bug fixed where a user could send empty messages."]},{date:"8/9",updates:["No new updates - no time was spent on project"]},{date:"8/2",updates:["No new updates - no time was spent on project"]},{date:"7/26",updates:["Password while logging in is now hidden.","A key is no longer required to create an account.","Usernames are now shown under display names in the member list.","Some styling changes made to the chat screen."]}]},e}return Object(i.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<this.state.items.length;t++){e.push(o.a.createElement("h3",{style:{marginTop:"30px",marginBottom:"0"},key:this.state.items[t].date},this.state.items[t].date," Update"));for(var a=0;a<this.state.items[t].updates.length;a++)e.push(o.a.createElement(je,{key:this.state.items[t].date+a,content:this.state.items[t].updates[a]}))}return o.a.createElement("div",{style:{margin:"auto",width:"400px"}},o.a.createElement("h1",{style:{textAlign:"center"}},"NEWS"),e)}}]),a}(o.a.Component),xe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={authenticated:!1,account:""},e.updateDisplayName=function(t){e.state.authenticated?e.setState({authenticated:!1,account:""}):e.setState({account:t,authenticated:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement(m.a,{from:"/",to:"/login"});return this.state.authenticated&&(t=null),o.a.createElement(p.a,null,o.a.createElement(y,null,o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/login",render:function(){return o.a.createElement(be,Object.assign({updateName:e.updateDisplayName},e.props))}}),o.a.createElement(m.b,{path:"/create",component:de}),t,o.a.createElement(m.b,{path:"/home",render:function(){return o.a.createElement(te,{account:e.state.account})}}),o.a.createElement(m.b,{path:"/settings",component:ye}),o.a.createElement(m.b,{path:"/news",component:Ce}),o.a.createElement(m.a,{from:"/",exact:!0,to:"/login"}),o.a.createElement(m.b,{path:"/",component:ae}))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[52,1,2]]]);
//# sourceMappingURL=main.2611deb3.chunk.js.map